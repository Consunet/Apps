if("function"!==typeof Blob||"undefined"===typeof URL)var Blob=function(e){var p=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder||function(b){var e=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},l=function(){this.data=[]},f=function(a,c,b){this.data=a;this.size=a.length;this.type=c;this.encoding=b},d=l.prototype,k=f.prototype,q=b.FileReaderSync,r=function(a){this.code=this[this.name=a]},s="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),
m=s.length,g=b.URL||b.webkitURL||b,t=g.createObjectURL,u=g.revokeObjectURL,n=g,v=b.btoa,w=b.atob,x=!1,p=function(a){x=!a},y=b.ArrayBuffer,h=b.Uint8Array;for(f.fake=k.fake=!0;m--;)r.prototype[s[m]]=m+1;try{h&&p.apply(0,new h(1))}catch(z){}g.createObjectURL||(n=b.URL={});n.createObjectURL=function(a){var c=a.type;null===c&&(c="application/octet-stream");if(a instanceof f)return c="data:"+c,"base64"===a.encoding?c+";base64,"+a.data:"URI"===a.encoding?c+","+decodeURIComponent(a.data):v?c+";base64,"+v(a.data):
c+","+encodeURIComponent(a.data);if(t)return t.call(g,a)};n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&u&&u.call(g,a)};d.append=function(a){var c=this.data;if(h&&(a instanceof y||a instanceof h))if(x)c.push(String.fromCharCode.apply(String,new h(a)));else{c="";a=new h(a);for(var b=0,d=a.length;b<d;b++)c+=String.fromCharCode(a[b])}else if("Blob"===e(a)||"File"===e(a))if(q)b=new q,c.push(b.readAsBinaryString(a));else throw new r("NOT_READABLE_ERR");else a instanceof f?"base64"===a.encoding&&
w?c.push(w(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!==typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))};d.getBlob=function(a){arguments.length||(a=null);return new f(this.data.join(""),a,"raw")};d.toString=function(){return"[object BlobBuilder]"};k.slice=function(a,c,b){var d=arguments.length;3>d&&(b=null);return new f(this.data.slice(a,1<d?c:this.data.length),b,this.encoding)};k.toString=function(){return"[object Blob]"};
return l}(e);return function(b,e){var l=e?e.type||"":"",f=new p;if(b)for(var d=0,k=b.length;d<k;d++)f.append(b[d]);return f.getBlob(l)}}(self);

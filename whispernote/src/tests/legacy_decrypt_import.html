<!DOCTYPE html><html><head> <title>WhisperNote Encrypted Note v1.3</title> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="cache-control" content="max-age=0"> <meta http-equiv="cache-control" content="no-cache"> <meta http-equiv="pragma" content="no-cache"> <meta http-equiv="expires" content="Mon, 1 Jan 2000 11:11:11 GMT"> <meta name="viewport" content="width=device-width"> <meta name="sca-app-type" content="WhisperNote"> <script id="encrypted-data" type="text/javascript">var encData={"iter":1000,"ks":256,"ts":128,"mode":"ocb2","cipher":"aes","v":1.3,"salt":"n7EZROCOr9s=","iv":"i80OgrhlzMUqT7CnP57qAw==","adata":"aGludCB2YWx1ZQ==","ct":"5LLS1Yic2oTLpJweY89PNyydpRUU1Z4DnlMNqU8KIxTToLPZEp2r5XCAql4sDj91A16SR6iVVMhKUFOEsJMtbnl6tWZ0JojmIbtaZi+FGe0d+qWBoN3E8lRp+fu0QHKlmq/sc405NXCyBKuxUQ==","cattname":"","catt":""};</script> <script>"use strict";function q(a){throw a}function y(a,b,c){4!==b.length&&q(new sjcl.exception.invalid("invalid aes block size"));var d=a.a[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,i,j,k,l=d.length/4-2,m=4,n=[0,0,0,0];h=a.j[c],a=h[0];var o=h[1],p=h[2],r=h[3],s=h[4];for(k=0;l>k;k++)h=a[e>>>24]^o[f>>16&255]^p[g>>8&255]^r[255&b]^d[m],i=a[f>>>24]^o[g>>16&255]^p[b>>8&255]^r[255&e]^d[m+1],j=a[g>>>24]^o[b>>16&255]^p[e>>8&255]^r[255&f]^d[m+2],b=a[b>>>24]^o[e>>16&255]^p[f>>8&255]^r[255&g]^d[m+3],m+=4,e=h,f=i,g=j;for(k=0;4>k;k++)n[c?3&-k:k]=s[e>>>24]<<24^s[f>>16&255]<<16^s[g>>8&255]<<8^s[255&b]^d[m++],h=e,e=f,f=g,g=b,b=h;return n}function z(a,b){var c,d,e,f=b.slice(0),g=a.q,h=a.a,i=g[0],j=g[1],k=g[2],l=g[3],m=g[4],n=g[5],o=g[6],p=g[7];for(c=0;64>c;c++)16>c?d=f[c]:(d=f[c+1&15],e=f[c+14&15],d=f[15&c]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+f[15&c]+f[c+9&15]|0),d=d+p+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(o^m&(n^o))+h[c],p=o,o=n,n=m,m=l+d|0,l=k,k=j,j=i,i=d+(j&k^l&(j^k))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;g[0]=g[0]+i|0,g[1]=g[1]+j|0,g[2]=g[2]+k|0,g[3]=g[3]+l|0,g[4]=g[4]+m|0,g[5]=g[5]+n|0,g[6]=g[6]+o|0,g[7]=g[7]+p|0}function C(a,b){var c,d=sjcl.random.z[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function A(a){a.a=B(a).concat(B(a)),a.A=new sjcl.cipher.aes(a.a)}function B(a){for(var b=0;4>b&&(a.e[b]=a.e[b]+1|0,!a.e[b]);b++);return a.A.encrypt(a.e)}var t=void 0,u=!1,sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),sjcl.cipher.aes=function(a){this.j[0][0][0]||this.D();var b,c,d,e,f=this.j[0][4],g=this.j[1];b=a.length;var h=1;for(4!==b&&6!==b&&8!==b&&q(new sjcl.exception.invalid("invalid aes key size")),this.a=[d=a.slice(0),e=[]],a=b;4*b+28>a;a++)c=d[a-1],(0===a%b||8===b&&4===a%b)&&(c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[255&c],0===a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7))),d[a]=d[a-b]^c;for(b=0;a;b++,a--)c=d[3&b?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[255&c]]},sjcl.cipher.aes.prototype={encrypt:function(a){return y(this,a,0)},decrypt:function(a){return y(this,a,1)},j:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var a,b,c,d,e,f,g,h=this.j[0],i=this.j[1],j=h[4],k=i[4],l=[],m=[];for(a=0;256>a;a++)m[(l[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!j[b];b^=d||1,c=m[c]||1)for(f=c^c<<1^c<<2^c<<3^c<<4,f=f>>8^255&f^99,j[b]=f,k[f]=b,e=l[a=l[d=l[b]]],g=16843009*e^65537*a^257*d^16843008*b,e=257*l[f]^16843008*f,a=0;4>a;a++)h[a][b]=e=e<<24^e>>>8,i[a][f]=g=g<<24^g>>>8;for(a=0;5>a;a++)h[a]=h[a].slice(0),i[a]=i[a].slice(0)}},sjcl.bitArray={bitSlice:function(a,b,c){return a=sjcl.bitArray.P(a.slice(b/32),32-(31&b)).slice(1),c===t?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return(-32&(b+c-1^b)?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.P(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;return b&=31,c>0&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return u;var c,d=0;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},P:function(a,b,c,d){var e;for(e=0,d===t&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return e=a.length?a[a.length-1]:0,a=sjcl.bitArray.getPartial(e),d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1)),d},k:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},sjcl.codec.utf8String={fromBits:function(a){var b,c,d="",e=sjcl.bitArray.bitLength(a);for(b=0;e/8>b;b++)0===(3&b)&&(c=a[b/4]),d+=String.fromCharCode(c>>>24),c<<=8;return decodeURIComponent(escape(d))},toBits:function(a){a=unescape(encodeURIComponent(a));var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),3===(3&b)&&(c.push(d),d=0);return 3&b&&c.push(sjcl.bitArray.partial(8*(3&b),d)),c}},sjcl.codec.hex={fromBits:function(a){var b,c="";for(b=0;b<a.length;b++)c+=((0|a[b])+0xf00000000000).toString(16).substr(4);return c.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c,d=[];for(a=a.replace(/\s|0x/g,""),c=a.length,a+="00000000",b=0;b<a.length;b+=8)d.push(0^parseInt(a.substr(b,8),16));return sjcl.bitArray.clamp(d,4*c)}},sjcl.codec.base64={J:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.J,g=0,h=sjcl.bitArray.bitLength(a);for(c&&(f=f.substr(0,62)+"-_"),c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;3&d.length&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c,d,e=[],f=0,g=sjcl.codec.base64.J,h=0;for(b&&(g=g.substr(0,62)+"-_"),c=0;c<a.length;c++)d=g.indexOf(a.charAt(c)),0>d&&q(new sjcl.exception.invalid("this isn't base64!")),f>26?(f-=26,e.push(h^d>>>f),h=d<<32-f):(f+=6,h^=d<<32-f);return 56&f&&e.push(sjcl.bitArray.partial(56&f,h,1)),e}},sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}},sjcl.codec.bytes={fromBits:function(a){var b,c,d=[],e=sjcl.bitArray.bitLength(a);for(b=0;e/8>b;b++)0===(3&b)&&(c=a[b/4]),d.push(c>>>24),c<<=8;return d},toBits:function(a){var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a[b],3===(3&b)&&(c.push(d),d=0);return 3&b&&c.push(sjcl.bitArray.partial(8*(3&b),d)),c}},sjcl.hash.sha256=function(a){this.a[0]||this.D(),a?(this.q=a.q.slice(0),this.n=a.n.slice(0),this.g=a.g):this.reset()},sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.q=this.N.slice(0),this.n=[],this.g=0,this},update:function(a){"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.n=sjcl.bitArray.concat(this.n,a);for(b=this.g,a=this.g=b+sjcl.bitArray.bitLength(a),b=512+b&-512;a>=b;b+=512)z(this,c.splice(0,16));return this},finalize:function(){var a,b=this.n,c=this.q,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this.g/4294967296)),b.push(0|this.g);b.length;)z(this,b.splice(0,16));return this.reset(),c},N:[],a:[],D:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var b,c=0,d=2;a:for(;64>c;d++){for(b=2;d>=b*b;b++)if(0===d%b)continue a;8>c&&(this.N[c]=a(Math.pow(d,.5))),this.a[c]=a(Math.pow(d,1/3)),c++}}},sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,j=h.bitLength(g)/8;for(e=e||64,d=d||[],7>i&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),f=2;4>f&&j>>>8*f;f++);return 15-i>f&&(f=15-i),c=h.clamp(c,8*(15-f)),b=sjcl.mode.ccm.L(a,b,c,d,e,f),g=sjcl.mode.ccm.o(a,g,c,b,e,f),h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64,d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),j=f.bitSlice(b,h-e),h=(h-e)/8;for(7>g&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),b=2;4>b&&h>>>8*b;b++);return 15-g>b&&(b=15-g),c=f.clamp(c,8*(15-b)),i=sjcl.mode.ccm.o(a,i,c,j,e,b),a=sjcl.mode.ccm.L(a,i.data,c,d,e,b),f.equal(i.tag,a)||q(new sjcl.exception.corrupt("ccm: tag doesn't match")),i.data},L:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.k;if(e/=8,(e%2||4>e||e>16)&&q(new sjcl.exception.invalid("ccm: invalid tag length")),(4294967295<d.length||4294967295<b.length)&&q(new sjcl.exception.bug("ccm: can't deal with 4GiB or more data")),f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)],f=h.concat(f,c),f[3]|=h.bitLength(b)/8,f=a.encrypt(f),d.length)for(c=h.bitLength(d)/8,65279>=c?g=[h.partial(16,c)]:4294967295>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,d),d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])));for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,8*e)},o:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.k;var i=b.length,j=h.bitLength(b);if(c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4),d=h.bitSlice(g(d,a.encrypt(c)),0,e),!i)return{tag:d,data:[]};for(g=0;i>g;g+=4)c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,j)}}},sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){128!==sjcl.bitArray.bitLength(c)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits"));var g,h=sjcl.mode.ocb2.H,i=sjcl.bitArray,j=i.k,k=[0,0,0,0];c=h(a.encrypt(c));var l,m=[];for(d=d||[],e=e||64,g=0;g+4<b.length;g+=4)l=b.slice(g,g+4),k=j(k,l),m=m.concat(j(c,a.encrypt(j(c,l)))),c=h(c);return l=b.slice(g),b=i.bitLength(l),g=a.encrypt(j(c,[0,0,0,b])),l=i.clamp(j(l.concat([0,0,0]),g),b),k=j(k,j(l.concat([0,0,0]),g)),k=a.encrypt(j(k,j(c,h(c)))),d.length&&(k=j(k,f?d:sjcl.mode.ocb2.pmac(a,d))),m.concat(i.concat(l,i.clamp(k,e)))},decrypt:function(a,b,c,d,e,f){128!==sjcl.bitArray.bitLength(c)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits")),e=e||64;var g,h,i=sjcl.mode.ocb2.H,j=sjcl.bitArray,k=j.k,l=[0,0,0,0],m=i(a.encrypt(c)),n=sjcl.bitArray.bitLength(b)-e,o=[];for(d=d||[],c=0;n/32>c+4;c+=4)g=k(m,a.decrypt(k(m,b.slice(c,c+4)))),l=k(l,g),o=o.concat(g),m=i(m);return h=n-32*c,g=a.encrypt(k(m,[0,0,0,h])),g=k(g,j.clamp(b.slice(c),h).concat([0,0,0])),l=k(l,g),l=a.encrypt(k(l,k(m,i(m)))),d.length&&(l=k(l,f?d:sjcl.mode.ocb2.pmac(a,d))),j.equal(j.clamp(l,e),j.bitSlice(b,n))||q(new sjcl.exception.corrupt("ocb: tag doesn't match")),o.concat(j.clamp(g,h))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.H,e=sjcl.bitArray,f=e.k,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));return c=b.slice(c),128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0])),g=f(g,c),a.encrypt(f(d(f(h,d(h))),g))},H:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}},sjcl.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);return b=sjcl.bitArray,d=d||[],a=sjcl.mode.gcm.o(!0,a,f,d,c,e||128),b.concat(a.data,a.tag)},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl.bitArray,h=g.bitLength(f);return e=e||128,d=d||[],h>=e?(b=g.bitSlice(f,h-e),f=g.bitSlice(f,0,h-e)):(b=f,f=[]),a=sjcl.mode.gcm.o(u,a,f,d,c,e),g.equal(a.tag,b)||q(new sjcl.exception.corrupt("gcm: tag doesn't match")),a.data},W:function(a,b){var c,d,e,f,g,h=sjcl.bitArray.k;for(e=[0,0,0,0],f=b.slice(0),c=0;128>c;c++){for((d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f)),g=0!==(1&f[3]),d=3;d>0;d--)f[d]=f[d]>>>1|(1&f[d-1])<<31;f[0]>>>=1,g&&(f[0]^=-520093696)}return e},f:function(a,b,c){var d,e=c.length;for(b=b.slice(0),d=0;e>d;d+=4)b[0]^=4294967295&c[d],b[1]^=4294967295&c[d+1],b[2]^=4294967295&c[d+2],b[3]^=4294967295&c[d+3],b=sjcl.mode.gcm.W(b,a);return b},o:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o=sjcl.bitArray;for(l=c.length,m=o.bitLength(c),n=o.bitLength(d),h=o.bitLength(e),g=b.encrypt([0,0,0,0]),96===h?(e=e.slice(0),e=o.concat(e,[1])):(e=sjcl.mode.gcm.f(g,[0,0,0,0],e),e=sjcl.mode.gcm.f(g,e,[0,0,Math.floor(h/4294967296),4294967295&h])),h=sjcl.mode.gcm.f(g,[0,0,0,0],d),k=e.slice(0),d=h.slice(0),a||(d=sjcl.mode.gcm.f(g,h,c)),j=0;l>j;j+=4)k[3]++,i=b.encrypt(k),c[j]^=i[0],c[j+1]^=i[1],c[j+2]^=i[2],c[j+3]^=i[3];return c=o.clamp(c,m),a&&(d=sjcl.mode.gcm.f(g,h,c)),a=[Math.floor(n/4294967296),4294967295&n,Math.floor(m/4294967296),4294967295&m],d=sjcl.mode.gcm.f(g,d,a),i=b.encrypt(e),d[0]^=i[0],d[1]^=i[1],d[2]^=i[2],d[3]^=i[3],{tag:o.bitSlice(d,0,f),data:c}}},sjcl.misc.hmac=function(a,b){this.M=b=b||sjcl.hash.sha256;var c,d=[[],[]],e=b.prototype.blockSize/32;for(this.m=[new b,new b],a.length>e&&(a=b.hash(a)),c=0;e>c;c++)d[0][c]=909522486^a[c],d[1][c]=1549556828^a[c];this.m[0].update(d[0]),this.m[1].update(d[1]),this.G=new b(this.m[0])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){return this.Q&&q(new sjcl.exception.invalid("encrypt on already updated hmac called!")),this.update(a),this.digest(a)},sjcl.misc.hmac.prototype.reset=function(){this.G=new this.M(this.m[0]),this.Q=u},sjcl.misc.hmac.prototype.update=function(a){this.Q=!0,this.G.update(a)},sjcl.misc.hmac.prototype.digest=function(){var a=this.G.finalize(),a=new this.M(this.m[1]).update(a).finalize();return this.reset(),a},sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1e3,(0>d||0>c)&&q(sjcl.exception.invalid("invalid params to pbkdf2")),"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a)),"string"==typeof b&&(b=sjcl.codec.utf8String.toBits(b)),e=e||sjcl.misc.hmac,a=new e(a);var f,g,h,i,j=[],k=sjcl.bitArray;for(i=1;32*j.length<(d||1);i++){for(e=f=a.encrypt(k.concat(b,[i])),g=1;c>g;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]^=f[h];j=j.concat(e)}return d&&(j=k.clamp(j,d)),j},sjcl.prng=function(a){this.b=[new sjcl.hash.sha256],this.h=[0],this.F=0,this.t={},this.C=0,this.K={},this.O=this.c=this.i=this.V=0,this.a=[0,0,0,0,0,0,0,0],this.e=[0,0,0,0],this.A=t,this.B=a,this.p=u,this.z={progress:{},seeded:{}},this.l=this.U=0,this.u=1,this.w=2,this.S=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.T=3e4,this.R=80},sjcl.prng.prototype={randomWords:function(a,b){var c,d=[];c=this.isReady(b);var e;if(c===this.l&&q(new sjcl.exception.notReady("generator isn't seeded")),c&this.w){c=!(c&this.u),e=[];var f,g=0;for(this.O=e[0]=(new Date).valueOf()+this.T,f=0;16>f;f++)e.push(4294967296*Math.random()|0);for(f=0;f<this.b.length&&(e=e.concat(this.b[f].finalize()),g+=this.h[f],this.h[f]=0,!(!c&&this.F&1<<f));f++);for(this.F>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.h.push(0)),this.c-=g,g>this.i&&(this.i=g),this.F++,this.a=sjcl.hash.sha256.hash(this.a.concat(e)),this.A=new sjcl.cipher.aes(this.a),c=0;4>c&&(this.e[c]=this.e[c]+1|0,!this.e[c]);c++);}for(c=0;a>c;c+=4)0===(c+1)%this.S&&A(this),e=B(this),d.push(e[0],e[1],e[2],e[3]);return A(this),d.slice(0,a)},setDefaultParanoia:function(a){this.B=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.t[c],h=this.isReady(),i=0;switch(d=this.K[c],d===t&&(d=this.K[c]=this.V++),g===t&&(g=this.t[c]=0),this.t[c]=(this.t[c]+1)%this.b.length,typeof a){case"number":b===t&&(b=1),this.b[g].update([d,this.C++,1,b,f,1,0|a]);break;case"object":if(c=Object.prototype.toString.call(a),"[object Uint32Array]"===c){for(e=[],c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(i=1),c=0;c<a.length&&!i;c++)"number"!=typeof a[c]&&(i=1);if(!i){if(b===t)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;)b++,e>>>=1;this.b[g].update([d,this.C++,2,b,f,a.length].concat(a))}break;case"string":b===t&&(b=a.length),this.b[g].update([d,this.C++,3,b,f,a.length]),this.b[g].update(a);break;default:i=1}i&&q(new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.h[g]+=b,this.c+=b,h===this.l&&(this.isReady()!==this.l&&C("seeded",Math.max(this.i,this.c)),C("progress",this.getProgress()))},isReady:function(a){return a=this.I[a!==t?a:this.B],this.i&&this.i>=a?this.h[0]>this.R&&(new Date).valueOf()>this.O?this.w|this.u:this.u:this.c>=a?this.w|this.l:this.l},getProgress:function(a){return a=this.I[a?a:this.B],this.i>=a?1:this.c>a?1:this.c/a},startCollectors:function(){this.p||(window.addEventListener?(window.addEventListener("load",this.r,u),window.addEventListener("mousemove",this.s,u)):document.attachEvent?(document.attachEvent("onload",this.r),document.attachEvent("onmousemove",this.s)):q(new sjcl.exception.bug("can't attach event")),this.p=!0)},stopCollectors:function(){this.p&&(window.removeEventListener?(window.removeEventListener("load",this.r,u),window.removeEventListener("mousemove",this.s,u)):window.detachEvent&&(window.detachEvent("onload",this.r),window.detachEvent("onmousemove",this.s)),this.p=u)},addEventListener:function(a,b){this.z[a][this.U++]=b},removeEventListener:function(a,b){var c,d,e=this.z[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},s:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},r:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")}},sjcl.random=new sjcl.prng(6);try{if("undefined"!=typeof module&&module.exports){var D=require("crypto").randomBytes(128);sjcl.random.addEntropy(D,1024,"crypto['randomBytes']")}else if(window&&window.crypto&&window.crypto.getRandomValues){var E=new Uint32Array(32);window.crypto.getRandomValues(E),sjcl.random.addEntropy(E,1024,"crypto['getRandomValues']")}}catch(F){}if(sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){c=c||{},d=d||{};var e,f=sjcl.json,g=f.d({iv:sjcl.random.randomWords(4,0)},f.defaults);return f.d(g,c),c=g.adata,"string"==typeof g.salt&&(g.salt=sjcl.codec.base64.toBits(g.salt)),"string"==typeof g.iv&&(g.iv=sjcl.codec.base64.toBits(g.iv)),(!sjcl.mode[g.mode]||!sjcl.cipher[g.cipher]||"string"==typeof a&&100>=g.iter||64!==g.ts&&96!==g.ts&&128!==g.ts||128!==g.ks&&192!==g.ks&&256!==g.ks||2>g.iv.length||4<g.iv.length)&&q(new sjcl.exception.invalid("json encrypt: invalid parameters")),"string"==typeof a?(e=sjcl.misc.cachedPbkdf2(a,g),a=e.key.slice(0,g.ks/32),g.salt=e.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.publicKey&&(e=a.kem(),g.kemtag=e.tag,a=e.key.slice(0,g.ks/32)),"string"==typeof b&&(b=sjcl.codec.utf8String.toBits(b)),"string"==typeof c&&(c=sjcl.codec.utf8String.toBits(c)),e=new sjcl.cipher[g.cipher](a),f.d(d,g),d.key=a,g.ct=sjcl.mode[g.mode].encrypt(e,b,g.iv,c,g.ts),f.encode(g)},decrypt:function(a,b,c,d){c=c||{},d=d||{};var e=sjcl.json;b=e.d(e.d(e.d({},e.defaults),e.decode(b)),c,!0);var f;return c=b.adata,"string"==typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt)),"string"==typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv)),(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||"string"==typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)&&q(new sjcl.exception.invalid("json decrypt: invalid parameters")),"string"==typeof a?(f=sjcl.misc.cachedPbkdf2(a,b),a=f.key.slice(0,b.ks/32),b.salt=f.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.secretKey&&(a=a.unkem(sjcl.codec.base64.toBits(b.kemtag)).slice(0,b.ks/32)),"string"==typeof c&&(c=sjcl.codec.utf8String.toBits(c)),f=new sjcl.cipher[b.cipher](a),c=sjcl.mode[b.mode].decrypt(f,b.ct,b.iv,c,b.ts),e.d(d,b),d.key=a,sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b))switch(b.match(/^[a-z0-9]+$/i)||q(new sjcl.exception.invalid("json encode: invalid property name")),c+=d+'"'+b+'":',d=",",typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+='"'+escape(a[b])+'"';break;case"object":c+='"'+sjcl.codec.base64.fromBits(a[b],0)+'"';break;default:q(new sjcl.exception.bug("json encode: unsupported type"))}return c+"}"},decode:function(a){a=a.replace(/\s/g,""),a.match(/^\{.*\}$/)||q(new sjcl.exception.invalid("json decode: this isn't json!")),a=a.replace(/^\{|\}$/g,"").split(/,/);var b,c,d={};for(b=0;b<a.length;b++)(c=a[b].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i))||q(new sjcl.exception.invalid("json decode: this isn't json!")),d[c[2]]=c[3]?parseInt(c[3],10):c[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(c[4]):unescape(c[4]);return d},d:function(a,b,c){if(a===t&&(a={}),b===t)return a;for(var d in b)b.hasOwnProperty(d)&&(c&&a[d]!==t&&a[d]!==b[d]&&q(new sjcl.exception.invalid("required parameter overridden")),a[d]=b[d]);return a},Z:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&a[c]!==b[c]&&(d[c]=a[c]);return d},Y:function(a,b){var c,d={};for(c=0;c<b.length;c++)a[b[c]]!==t&&(d[b[c]]=a[b[c]]);return d}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.X={},sjcl.misc.cachedPbkdf2=function(a,b){var c,d=sjcl.misc.X;return b=b||{},c=b.iter||1e3,d=d[a]=d[a]||{},c=d[c]=d[c]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)},d=b.salt===t?c.firstSalt:b.salt,c[d]=c[d]||sjcl.misc.pbkdf2(a,d,b.iter),{key:c[d].slice(0),salt:d.slice(0)}},"function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof URL)if("function"!=typeof Blob&&"object"!=typeof Blob||"undefined"==typeof webkitURL)var Blob=function(a){var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL={}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;j>i;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return 3>e&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},c}(a);return function(a,c){var d=c?c.type||"":"",e=new b;if(a)for(var f=0,g=a.length;g>f;f++)e.append(a[f]);return e.getBlob(d)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);else self.URL=webkitURL;var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f=!a.externalHost&&"download"in e,g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=[],m=function(){for(var a=l.length;a--;){var b=l[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}l.length=0},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},o=function(d,i){var m,o,p,q=this,r=d.type,s=!1,t=function(){var a=c().createObjectURL(d);return l.push(a),a},u=function(){n(q,"writestart progress write writeend".split(" "))},v=function(){(s||!m)&&(m=t(d)),o?o.location.href=m:window.open(m,"_blank"),q.readyState=q.DONE,u()},w=function(a){return function(){return q.readyState!==q.DONE?a.apply(this,arguments):void 0}},x={create:!0,exclusive:!1};if(q.readyState=q.INIT,i||(i="download"),f){m=t(d),b=a.document,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e.href=m,e.download=i;var y=b.createEvent("MouseEvents");return y.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(y),q.readyState=q.DONE,void u()}return a.chrome&&r&&r!==j&&(p=d.slice||d.webkitSlice,d=p.call(d,0,d.size,j),s=!0),g&&"download"!==i&&(i+=".download"),(r===j||g)&&(o=a),h?(k+=d.size,void h(a.TEMPORARY,k,w(function(a){a.root.getDirectory("saved",x,w(function(a){var b=function(){a.getFile(i,x,w(function(a){a.createWriter(w(function(b){b.onwriteend=function(b){o.location.href=a.toURL(),l.push(a),q.readyState=q.DONE,n(q,"writeend",b)},b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){b["on"+a]=q["on"+a]}),b.write(d),q.abort=function(){b.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(i,{create:!1},w(function(a){a.remove(),b()}),w(function(a){a.code===a.NOT_FOUND_ERR?b():v()}))}),v)}),v)):void v()},p=o.prototype,q=function(a,b){return new o(a,b)};return p.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,a.addEventListener("unload",m,!1),q}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);var CONST={version:1.3,cypherSettings:{iter:1e3,ks:256,ts:128,mode:"ocb2",cipher:"aes"},variableCypherSettings:{v:{desc:"Version",type:"number",mandatory:!0},iv:{desc:"Initialisation Vector",type:"string",mandatory:!0},salt:{desc:"Salt",type:"string",mandatory:!0},adata:{desc:"Hint",type:"string",mandatory:!1},ct:{desc:"Cypher text",type:"string",mandatory:!1}},regexEncryptedData:/<script id="encrypted-data" type="text\/javascript">var encData=(.+);<\/script>/g,regexAppType:/<meta name="sca-app-type" content="(\w+)"/g,defaultTimeoutPeriodMins:2},SCA={e:function(a){return document.getElementById(a)},setDisplay:function(a,b){this.e(a).style.display=b},isShown:function(a){return"none"!==this.e(a).style.display},getAndClear:function(a){var b=this.e(a),c=b.value;b.value="";try{b.innerHtml=""}catch(d){}return c},checkEncPass:function(){var a=this.e("enc-password").value;if(this.validateEncPass(),0===a.length)return alert("Password cannot be empty!"),!1;var b=this.e("enc-password-fb").innerHTML;return"Password: Weak"===b?confirm("Weak password used - proceed with Encrypt?"):!0},getEncPass:function(){return this.getAndClear("enc-password")},getEncHint:function(){return this.getAndClear("enc-hint")},getDecPass:function(){return this.getAndClear("dec-password")},getDecHint:function(){return this.getAndClear("dec-hint")},getDocumentHtml:function(){var a=document.doctype,b="";return a&&(b="<!DOCTYPE "+a.name+(a.publicId?' PUBLIC "'+a.publicId+'"':"")+(!a.publicId&&a.systemId?" SYSTEM":"")+(a.systemId?' "'+a.systemId+'"':"")+">"),b+document.documentElement.outerHTML},saveDocument:function(){saveAs(new Blob([this.getDocumentHtml()],{type:"application/xhtml+xml;charset="+document.characterSet}),this.getSaveFilename()+".html")},getClonedCypherSettings:function(){return JSON.parse(JSON.stringify(CONST.cypherSettings))},clickImport:function(){this.e("import").click()},importFile:function(){var a=this.e("import").files,b=a[0],c=new FileReader;c.onload=function(){SCA.processImportedFileText(this.result)},c.readAsText(b)},processImportedFileText:function(a){try{var b=CONST.regexAppType.exec(a);if(!b||2!==b.length)throw"Could not determine application type.";if(b[1]!==CONST.appName)throw"Incorrect application type";var c=CONST.regexEncryptedData.exec(a);if(!c||2!==c.length)throw"File format incorrect.";var d=JSON.parse(c[1]),e=this.getClonedCypherSettings();for(var f in CONST.cypherSettings)if(d[f]!==CONST.cypherSettings[f])throw"Invalid cypher settings";for(var f in CONST.variableCypherSettings){var g=CONST.variableCypherSettings[f],h=d[f],i=g.mandatory&&typeof h!==g.type,j=!g.mandatory&&h&&typeof h!==g.type;if(i||j)throw"Bad "+g.desc;e[f]=d[f]}encData=e,SCA.doOnload()}catch(k){console.log(k),alert("Import failed: :"+k)}},showDecryptError:function(a){var b=this.e("dec-password-group");a?(b.setAttribute("class","form-group has-error"),this.e("dec-password-help").innerHTML="Incorrect password, or data has been corrupted"):(b.setAttribute("class","form-group"),this.e("dec-password-help").innerHTML="")},showAbout:function(){SCA.displayHelp(!0)},encryptWith:function(a){if("Safari"===this.getBrowserName())return alert("Encryption is not currently supported on Safari due to lack of standards support. Please use a different browser [e.g. Google Chrome or Mozilla Firefox] to allow encryption of files."),!1;if(!this.checkEncPass())return!1;var b=this.getClonedCypherSettings(),c=sjcl.random.randomWords(2,2),d=sjcl.random.randomWords(4,2);b.v=CONST.version,b.salt=sjcl.codec.base64.fromBits(c),b.iv=sjcl.codec.base64.fromBits(d);var e=sjcl.misc.pbkdf2(this.getEncPass(),c,b.iter),f=new sjcl.cipher[b.cipher](e),g=sjcl.codec.utf8String.toBits(this.getEncHint());b.adata=sjcl.codec.base64.fromBits(g);var h={opts:this.readOptions(),pl:this.getPayload()},i=sjcl.codec.utf8String.toBits(JSON.stringify(h)),j=sjcl.mode[b.mode].encrypt(f,i,d,g,b.ts);b.ct=sjcl.codec.base64.fromBits(j),a(b,f,d,g);var k="var encData="+JSON.stringify(b)+";";this.e("encrypted-data").innerHTML=k,encData=CONST.cypherSettings,this.setDisplay("nojavascript","inline"),this.setDisplay("unsupported","none"),this.setDisplay("locked","none"),this.setDisplay("unlocked","none"),this.displayOptions(!1),this.resetHelp(),this.displayTimeout(!1);var l=this.e("enc-password-fb-group");return l.style.display="none",l.setAttribute("class","form-group"),this.e("enc-password-fb").innerHTML="",this.e("enc-password-group").setAttribute("class","form-group"),!0},decryptWith:function(a){var b=this.getDecPass(),c=sjcl.codec.base64.toBits(encData.salt),d=sjcl.codec.base64.toBits(encData.iv),e=sjcl.codec.base64.toBits(encData.adata),f=sjcl.misc.pbkdf2(b,c,encData.iter),g=new sjcl.cipher[encData.cipher](f),h=sjcl.codec.base64.toBits(encData.ct);try{var i=sjcl.mode[encData.mode].decrypt(g,h,d,e,encData.ts),j=sjcl.codec.utf8String.fromBits(i),k=this.getDefaultOptions();if(encData.v>1.2){var l=JSON.parse(j);k=l.opts,j=l.pl}a(encData.v,g,d,e,j),this.setOptions(k),this.setUnlocked(!0),this.displayTimeout(!0),this.showDecryptError(!1),this.e("enc-password").value=b,this.e("enc-hint").value=sjcl.codec.utf8String.fromBits(e)}catch(m){console.log(m),this.showDecryptError(!0)}},validateEncPass:function(){var a=this.e("enc-password").value,b=this.getPasswordStrength(a),c="form-group",d="Password: ";0===b?(c+=" has-error",d+="Empty!"):.65>b?(c+=" has-error",d+="Weak"):.95>b?(c+=" has-warning",d+="OK"):(c+=" has-success",d+="Strong");var e=this.e("enc-password-fb-group");e.style.display="inline-block",e.setAttribute("class",c),this.e("enc-password-fb").innerHTML=d,this.e("enc-password-group").setAttribute("class",c)},getPasswordStrength:function(a){var b=29,c=a.match(/[0-9].*[0-9]/),d=a.match(/[a-z].*[a-z]/),e=a.match(/[A-Z].*[A-Z]/),f=a.match(/[\W].*[\W]/);c&&d&&e?b=17:c&&d?b=19:c&&e?b=19:d&&e?b=17:(d||e)&&(b=21),f&&(b-=2);var g=a.length/b;return g},displayHelp:function(a){var b=a?"block":"none";this.setDisplay("help-screen",b)},toggleHelpDetail:function(){var a=this.isHelpDetailed(),b=a?"none":"block",c=a?"more":"less";this.setDisplay("help-detail",b),this.e("help-toggle").innerHTML=c},isHelpDetailed:function(){return"block"===this.e("help-detail").style.display},resetHelp:function(){this.isHelpDetailed()&&this.toggleHelpDetail(),this.displayHelp(!1)},toggleMenu:function(){
this.isShown("menu")?this.displayMenu(!1):this.displayMenu(!0)},displayMenu:function(a){var b=a?"inline":"none";this.setDisplay("menu",b)},displayOptions:function(a){var b=a?"block":"none";this.setDisplay("options-screen",b)},handleMouseClick:function(a){var b=a.target||a.srcElement;"menu-button"===b.id?SCA.toggleMenu():SCA.displayMenu(!1),SCA.isTimingOut&&SCA.resetTimeout()},addClass:function(a,b){var c=this.e(a);c.classList.add(b)},hasClass:function(a,b){var c=this.e(a);return c.classList.contains(b)},removeClass:function(a,b){var c=this.e(a);c.classList.remove(b)},isNumericKey:function(a){var b=a.which?a.which:a.keyCode;return b>31&&(48>b||b>57)?!1:!0},getDefaultOptions:function(){return{saveFileName:CONST.appName,timeoutPeriodMins:CONST.defaultTimeoutPeriodMins}},setDefaultOptions:function(){this.setOptions(this.getDefaultOptions())},validateSaveFilename:function(){this.isSaveFilenameValid()?(this.removeClass("opt-save-filename-group","has-error"),this.e("opt-save-filename-help").innerHTML=""):(this.addClass("opt-save-filename-group","has-error"),this.e("opt-save-filename-help").innerHTML="Invalid filename, using default: "+CONST.appName)},getSaveFilename:function(){return this.isSaveFilenameValid()||(this.e("opt-save-filename").value=CONST.appName,this.validateSaveFilename()),this.e("opt-save-filename").value},isSaveFilenameValid:function(){var a=this.e("opt-save-filename").value;return a.match(/\w+/)&&!a.match(/\W+/)},readOptions:function(){var a=this.getSaveFilename(),b=this.getTimeout();return{saveFileName:a,timeoutPeriodMins:b}},setOptions:function(a){this.e("opt-save-filename").value=a.saveFileName,this.e("opt-timeout").value=a.timeoutPeriodMins},displayTimeout:function(a){a?(this.resetTimeout(),this.isTimingOut=!0,this.timeoutHandler=setInterval("SCA.decrement()",1e3)):(clearInterval(this.timeoutHandler),this.e("timeout-value").innerHTML="")},validateTimeout:function(){this.isTimeoutValid()?(this.removeClass("opt-timeout-group","has-error"),this.e("opt-timeout-help").innerHTML=""):(this.addClass("opt-timeout-group","has-error"),this.e("opt-timeout-help").innerHTML="Invalid timeout, using default: "+CONST.defaultTimeoutPeriodMins)},isTimeoutValid:function(){var a=this.e("opt-timeout").value;return a.match(/\d+/)&&!a.match(/\D+/)},getTimeout:function(){return this.isTimeoutValid()||(this.e("opt-timeout").value=CONST.defaultTimeoutPeriodMins,this.validateTimeout()),this.e("opt-timeout").value},decrement:function(){this.timeoutValueSecs-=1,0===this.timeoutValueSecs&&location.reload(),this.setTimeoutString()},padNum:function(a){var b=a.toString();return 1===b.length?"0"+b:b},setTimeoutString:function(){var a=this.padNum(Math.floor(this.timeoutValueSecs/60)%60),b=this.padNum(Math.floor(this.timeoutValueSecs/3600)),c=this.padNum(this.timeoutValueSecs%60),d=b+":"+a+":"+c;this.timeoutValueSecs<=30?this.addClass("timeout-value","red"):this.removeClass("timeout-value","red"),this.e("timeout-value").innerHTML=d},resetTimeout:function(){this.timeoutValueSecs=60*parseInt(this.getTimeout()),this.setTimeoutString()},getBrowserName:function(){var a,b=navigator.appName,c=navigator.userAgent,d=c.match(/(opera|chrome|safari|firefox|msie|phantomjs)\/?\s*(\.?\d+(\.\d+)*)/i);return d&&(a=c.match(/version\/([\.\d]+)/i),null!==a&&(d[2]=a[1])),d=d?[d[1],d[2]]:[b,navigator.appVersion,"-?"],d[0]},doOnload:function(){this.setDisplay("nojavascript","none"),document.addEventListener?document.addEventListener("click",SCA.handleMouseClick,!1):document.attachEvent&&document.attachEvent("onclick",SCA.handleMouseClick,!1);try{if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"File operations not supported";if("PhantomJS"!==this.getBrowserName()&&new Blob,this.setDisplay("unsupported","none"),sjcl.random.startCollectors(),encData.ct&&encData.salt&&encData.iv){if(this.setUnlocked(!1),encData.adata){var a=sjcl.codec.utf8String.fromBits(sjcl.codec.base64.toBits(encData.adata));this.e("dec-hint").innerHTML=a}this.e("dec-password").focus()}else this.setDefaultOptions(),this.setUnlocked(!0),this.displayHelp(!0)}catch(b){alert(b),console.log(b),this.setDisplay("unsupported","inline")}}};CONST.appName="WhisperNote",CONST.variableCypherSettings.cattname={desc:"Attachment filename",type:"string",mandatory:!1},CONST.variableCypherSettings.catt={desc:"Attachment data",type:"object",mandatory:!1},CONST.attSliceSize=1024,SCA.encrypt=function(){var a=this.e("file").files,b=a[0];if(b){var c,d=new FileReader;d.onload=function(){c=this.result,SCA.encryptWithFile(c,b.name)},d.readAsArrayBuffer(b)}else SCA.encryptWithFile(!1,!1)},SCA.encryptWithFile=function(a,b){this.encryptAndEmbedData(a,b)&&(this.saveDocument(),this.e("file").value="",this.doOnload())},SCA.encryptAndEmbedData=function(a,b){return this.encryptWith(function(c,d,e,f){if(c.cattname="",c.catt="",a){for(var g=CONST.attSliceSize,h=[],i=0;i<a.byteLength;i+=g){var j=a.slice(i,i+g),k=new Uint8Array(j),l=sjcl.codec.bytes.toBits(k),m=sjcl.mode[c.mode].encrypt(d,l,e,f,c.ts),n=sjcl.codec.base64.fromBits(m);h.push(n)}var o=sjcl.codec.utf8String.toBits(b),p=sjcl.mode[c.mode].encrypt(d,o,e,f,c.ts);c.cattname=sjcl.codec.base64.fromBits(p),c.catt=h}})},SCA.getPayload=function(){return this.getAndClear("payload")},SCA.decrypt=function(){this.decryptWith(function(a,b,c,d,e){if(SCA.e("payload").value=e,encData.cattname){var f=sjcl.codec.base64.toBits(encData.cattname),g=sjcl.mode[encData.mode].decrypt(b,f,c,d,encData.ts),h=sjcl.codec.utf8String.fromBits(g);SCA.e("download-label").innerHTML=h,SCA.setDisplay("att-download","inline");for(var i=[],j=0;j<encData.catt.length;j++){var k=sjcl.codec.base64.toBits(encData.catt[j]),l=sjcl.mode[encData.mode].decrypt(b,k,c,d,encData.ts),m=sjcl.codec.bytes.fromBits(l),n=new Uint8Array(m);i.push(n)}SCA.attBlob=new Blob(i,{type:"application/octet-stream"}),SCA.attName=h}})},SCA.downloadDecrypted=function(){saveAs(this.attBlob,this.attName)},SCA.setUnlocked=function(a){var b=a?"none":"inline",c=a?"inline":"none";this.setDisplay("locked",b),this.setDisplay("unlocked",c)};</script> <style>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}nav{display:block}a{background:0 0}a:active,a:hover{outline:0}img{border:0}button,input,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible;text-transform:none;-webkit-appearance:button;cursor:pointer}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto}@media print{*{text-shadow:none!important;color:#000!important;background:transparent!important;box-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href) ")"}a[href^="#"]:after{content:""}img{page-break-inside:avoid;max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}.navbar{display:none}}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:62.5%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}button,input,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#428bca;text-decoration:none}a:focus,a:hover{color:#2a6496;text-decoration:underline}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}img{vertical-align:middle}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}h2,h3,h4{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}h2,h3{margin-top:20px;margin-bottom:10px}h4{margin-top:10px;margin-bottom:10px}h2{font-size:30px}h3{font-size:24px}h4{font-size:18px}p{margin:0 0 10px}ul{margin-top:0;margin-bottom:10px}.container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.container{width:750px}}@media (min-width:992px){.container{width:970px}}@media (min-width:1200px){.container{width:1170px}}.row{margin-left:-15px;margin-right:-15px}.col-lg-10,.col-lg-2,.col-lg-4,.col-md-10,.col-md-2,.col-md-4,.col-sm-9{position:relative;min-height:1px;padding-left:15px;padding-right:15px}@media (min-width:768px){.col-sm-9{float:left;width:75%}}@media (min-width:992px){.col-md-10,.col-md-2,.col-md-4{float:left}.col-md-10{width:83.33333333%}.col-md-4{width:33.33333333%}.col-md-2{width:16.66666667%}}@media (min-width:1200px){.col-lg-10,.col-lg-2,.col-lg-4{float:left}.col-lg-10{width:83.33333333%}.col-lg-4{width:33.33333333%}.col-lg-2{width:16.66666667%}.col-lg-offset-2{margin-left:16.66666667%}}label{display:inline-block;margin-bottom:5px;font-weight:700}input[type=file]{display:block}input[type=file]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}textarea.form-control{height:auto}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.has-success .control-label,.has-success .help-block{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-warning .control-label,.has-warning .help-block{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-error .control-label,.has-error .help-block{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.form-control-static{margin-bottom:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#737373}.form-horizontal .control-label{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .form-group{margin-left:-15px;margin-right:-15px}.form-horizontal .form-control-static{padding-top:7px}@media (min-width:768px){.form-horizontal .control-label{text-align:right}}.btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:active:focus,.btn:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn:active{outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-default{color:#333;background-color:#fff}.btn-default:active,.btn-default:focus,.btn-default:hover{color:#333;background-color:#ebebeb;border-color:#adadad}.btn-default:active{background-image:none}.btn-primary{color:#fff;background-color:#428bca}.btn-primary:active,.btn-primary:focus,.btn-primary:hover{color:#fff;background-color:#3276b1;border-color:#285e8e}.btn-primary:active{background-image:none}.btn-success{color:#fff;background-color:#5cb85c}.btn-success:active,.btn-success:focus,.btn-success:hover{color:#fff;background-color:#47a447;border-color:#398439}.btn-success:active{background-image:none}.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}@font-face{font-family:'Glyphicons Halflings';src:url(../fonts/glyphicons-halflings-regular.eot);src:url(/home/xfce/Desktop/Apps-4ae52614cfd02804d4458890ee01f8fd2f48e6b1/WhisperNote/node_modules/grunt-image-embed/tasks/lib../fonts/glyphicons-halflings-regular.eot) format('embedded-opentype');src:url(/home/xfce/Desktop/Apps-4ae52614cfd02804d4458890ee01f8fd2f48e6b1/WhisperNote/node_modules/grunt-image-embed/tasks/lib../fonts/glyphicons-halflings-regular.woff) format('woff');src:url(/home/xfce/Desktop/Apps-4ae52614cfd02804d4458890ee01f8fd2f48e6b1/WhisperNote/node_modules/grunt-image-embed/tasks/lib../fonts/glyphicons-halflings-regular.ttf) format('truetype');src:url(/home/xfce/Desktop/Apps-4ae52614cfd02804d4458890ee01f8fd2f48e6b1/WhisperNote/node_modules/grunt-image-embed/tasks/lib../fonts/glyphicons-halflings-regular.svg) format('svg')}.navbar{position:relative;min-height:50px;margin-bottom:20px;border:1px solid transparent}@media (min-width:310px){.navbar{border-radius:4px}}@media (min-width:310px){.navbar-header{float:left}}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:310px){.navbar-fixed-bottom,.navbar-fixed-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;font-size:18px;line-height:20px;height:50px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}@media (min-width:310px){.navbar-left{float:left!important}.navbar-right{float:right!important}}.navbar-form{margin-left:-15px;margin-right:-15px;padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);margin-top:8px;margin-bottom:8px}@media (min-width:310px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}}@media (max-width:309px){.navbar-form .form-group{margin-bottom:5px}}@media (min-width:310px){.navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}.navbar-form.navbar-right:last-child{margin-right:-15px}}.navbar-btn{margin-top:8px;margin-bottom:8px}.navbar-btn.btn-sm{margin-top:10px;margin-bottom:10px}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-form{border-color:#e7e7e7}.jumbotron{padding:30px;margin-bottom:30px;color:inherit;background-color:#eee}.jumbotron p{margin-bottom:15px;font-size:21px;font-weight:200}.container .jumbotron{border-radius:6px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding-top:48px;padding-bottom:48px}.container .jumbotron{padding-left:60px;padding-right:60px}}.alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:700}.alert-dismissable{padding-right:35px}.alert-dismissable .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-info{background-color:#d9edf7;color:#31708f}.alert-info .alert-link{color:#245269}.alert-warning{background-color:#fcf8e3;color:#8a6d3b}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.container:after,.container:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.row:after,.row:before{content:" ";display:table}.container:after,.form-horizontal .form-group:after,.navbar-header:after,.navbar:after,.row:after{clear:both}.pull-right{float:right!important}.pull-left{float:left!important}@-ms-viewport{width:device-width}.visible-lg,.visible-md,.visible-sm{display:none!important}@media (min-width:768px) and (max-width:991px){.visible-sm{display:block!important}}@media (min-width:992px) and (max-width:1199px){.visible-md{display:block!important}}@media (min-width:1200px){.visible-lg{display:block!important}}.btn-default,.btn-primary,.btn-success{text-shadow:0 -1px 0 rgba(0,0,0,.2);-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.15),0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 0 rgba(255,255,255,.15),0 1px 1px rgba(0,0,0,.075)}.btn-default:active,.btn-primary:active,.btn-success:active{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn:active{background-image:none}.btn-default{text-shadow:0 1px 0 #fff;background-image:-webkit-linear-gradient(top,#fff 0,#e0e0e0 100%);background-image:linear-gradient(to bottom,#fff 0,#e0e0e0 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe0e0e0', GradientType=0);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);background-repeat:repeat-x;border-color:#dbdbdb;border-color:#ccc}.btn-default:focus,.btn-default:hover{background-color:#e0e0e0;background-position:0 -15px}.btn-default:active{background-color:#e0e0e0;border-color:#dbdbdb}.btn-primary{background-image:-webkit-linear-gradient(top,#428bca 0,#2d6ca2 100%);background-image:linear-gradient(to bottom,#428bca 0,#2d6ca2 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff428bca', endColorstr='#ff2d6ca2', GradientType=0);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);background-repeat:repeat-x;border-color:#2b669a}.btn-primary:focus,.btn-primary:hover{background-color:#2d6ca2;background-position:0 -15px}.btn-primary:active{background-color:#2d6ca2;border-color:#2b669a}.btn-success{background-image:-webkit-linear-gradient(top,#5cb85c 0,#419641 100%);background-image:linear-gradient(to bottom,#5cb85c 0,#419641 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff5cb85c', endColorstr='#ff419641', GradientType=0);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);background-repeat:repeat-x;border-color:#3e8f3e}.btn-success:focus,.btn-success:hover{background-color:#419641;background-position:0 -15px}.btn-success:active{background-color:#419641;border-color:#3e8f3e}.img-thumbnail{-webkit-box-shadow:0 1px 2px rgba(0,0,0,.075);box-shadow:0 1px 2px rgba(0,0,0,.075)}.navbar-default{background-image:-webkit-linear-gradient(top,#fff 0,#f8f8f8 100%);background-image:linear-gradient(to bottom,#fff 0,#f8f8f8 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#fff8f8f8', GradientType=0);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);background-repeat:repeat-x;border-radius:4px;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.15),0 1px 5px rgba(0,0,0,.075);box-shadow:inset 0 1px 0 rgba(255,255,255,.15),0 1px 5px rgba(0,0,0,.075)}.navbar-brand{text-shadow:0 1px 0 rgba(255,255,255,.25)}.navbar-fixed-bottom,.navbar-fixed-top{border-radius:0}.alert{text-shadow:0 1px 0 rgba(255,255,255,.2);-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.25),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.25),0 1px 2px rgba(0,0,0,.05)}.alert-info{background-image:-webkit-linear-gradient(top,#d9edf7 0,#b9def0 100%);background-image:linear-gradient(to bottom,#d9edf7 0,#b9def0 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffd9edf7', endColorstr='#ffb9def0', GradientType=0);background-repeat:repeat-x;border-color:#9acfea}.alert-warning{background-image:-webkit-linear-gradient(top,#fcf8e3 0,#f8efc0 100%);background-image:linear-gradient(to bottom,#fcf8e3 0,#f8efc0 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffcf8e3', endColorstr='#fff8efc0', GradientType=0);background-repeat:repeat-x;border-color:#f5e79e}@media (max-width:329px){#enc-hint,#enc-password{width:100px!important}}@media (min-width:330px) and (max-width:359px){#enc-hint,#enc-password{width:100px!important}}@media (min-width:360px) and (max-width:499px){#enc-hint,#enc-password{width:120px!important}}@media (min-width:500px) and (max-width:767px){#enc-hint,#enc-password{width:120px!important}}@media (min-width:0) and (max-width:440px){#timeout-value{width:0;height:0;visibility:hidden!important}}.offscreen{display:none;position:absolute;top:-100px}body{padding-top:50px;padding-bottom:150px}.form-group{margin-bottom:4px}.navbar-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEo0lEQVRIx7VW308UVxQ+596Z2YV1s4SAQoEqJLsaKwnV2tiamjTShz616aPBf6G+94HEmDQ1MWna2LQPTTSNsT60hNKkJW1MHxCLokKlwkJBYJXCssgu7A/m172nD2OnszO7SE28TzNn73zfued+59uDRAQvcjH3yWV6bsqKCMwNIaLzjIjPwVENgbm/FYzcxRsffnvvk4KRc7fufCGiYZe+v//ZFzfOOAgOB3PQJYlrY+dLZn4h++Cnqa+3rMLOa+VsM+zSYPLyzOpo0dy8NnZeknA4mJPs0MO+7FYaERWmzmTu/vjgq6KxsZNaOfnpVnEweXlieUjhGiJmt9JDD/ucYzEAWCssTa6MuFghpWbuyR/9f17c0NeeWStELJn5gQdfTq7cDCk1LuvkyshaYQkAmCQ5+2Q8p696P1OYurw5P706upMSTWduP8pNK1zzBnP66uyTcUmSWcJIpkcYMm+yRBQJRV9pehMIbNu2qizbtgEg0fharbbLW0xEZMim0iOWMJSSubm0MafykAcdBNnd8dMRLTYzM3PlyhXLsirmrqpqT09PIpHojp/+7v6nHFQ3SQT298ZcydxUUrkkAHnTlySaovvijYcBYP/+/dvX59y5c0QUbzzcFN2Xzqc4cvcQAJTKJdl6cRn/jTpLkNXZfMKtFRF1dHQEobu6uohI13XntfOlE0Ja5ffP14vLzCbLJxQpRWtdwk0EEefm5s6ePevdc+HChbGxMUQMh8NOpC2WkCTKCAAsaSpE0i9toKhW59MiEfX29vqC3tddWh2Br2lQkmQAQaWjKY1qqq/WGaY0A1CEiIwx7jdYZJl8KmgGzjlcU/M1eSa/yJD5oDjjLKLFfEfjTJnO3Klok8G6edrtDmeKr9QRrY61xRJCll0OR2UqfatgZIPovhK5HAUjO5W+xbGMQEjRFkuwhkhLrKbBe9WISCAHk5cAwLZspywVbc6NDyYvEchyL5CxmoaGSAtTuZZoPOI7BAJbyE4Oz/cr6tOkTNP0bjCM/1QwPN+/kJ1EYL70E41HVK4xztQDu49qSthnJlKKmwsDo6lBU+gAoGkaeVYoFAIAU+ijqcGbCwNSCp+VaUr4wO6jnKkKALTE4u31h2bXxoN3+MvMN6lcsqvl7cZIazRU7+onb6xnio/Hl35Lrt5WWSiogvb6Qy2xOACglBIR0/nFq/c+tqUVKDRIshWmNuxqjYbqw0otAOh2KW+srxUe29JiqAQlpjD11OGP9kT3EhFKkggIAJMrv/dNfO7+aVQcF4JKDQYNe+uDzjMHm445SmUOOhEdbHqjO94jSQThsMoqVz0QkSTRHe852HTsaW+Cp1kcyd9O/Tw8328KnSH/X1OFJKHx8PH2919/+d2yEcaXLxHNr09c/+tqOr+o8fBO5hciMoW+J7r3ZPxUe32n75MyApfZEvrdR78OL/xgCoOjUo2GiATZGg8d3/fekbZ3VB6u0PyVLpCIABFNoY89vj6xPFQ0NyVJr2UhIEMe0aKdzW+92npS42EiQoSgN1edfLyJbGxl1ksrptAlScduNR6ur22O1TRsb4jbETzzyx1uwBc9vv8DTm/Vp6vM8iEAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center;background-size:auto;display:inline-block;height:32px;width:32px;padding-top:36px;padding-left:36px}.navbar-brand{padding:5px}.menu{position:absolute;top:100%;right:0;z-index:1000;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:14px;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.menu li a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.menu>li>a:focus,.menu>li>a:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.menu-icon{line-height:.9em;font-size:1.5em;font-weight:900}.red{color:red}.lock-image{background-image:url(data:image/gif;base64,R0lGODlhEAAQAMIEAAAAACUlJTs7O3h4eP///////////////yH5BAEKAAQALAAAAAAQABAAAAMsSLrcPjC6FeuYBDI9ufINCCpCAJzoGQhYu5RpurouHKssjdn3rE+8mO+3SAAAOw==);background-repeat:no-repeat;background-position:center;background-size:contain;width:100px;height:100px;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:optimize-contrast;-ms-interpolation-mode:nearest-neighbor}</style>  </head><body onload="SCA.doOnload()"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="navbar-header pull-left"> <a class="navbar-brand" href="http://www.consunet.com.au/"> <img id="logo" class="navbar-icon img-thumbnail" alt="" src=""> WhisperNote </a> <form id="import-form" class="navbar-form navbar-right" onsubmit="return false"> <input id="import" onchange="SCA.importFile()" class="offscreen" name="import" type="file"> </form> </div> <div class="navbar-header pull-right"> <form class="navbar-form navbar-left" role="search"> <button id="menu-button" type="button" class="btn btn-sm btn-default menu-icon">≡</button> <ul id="menu" class="menu" role="menu" style="display: none"> <li role="presentation"><a id="menu-import" role="menuitem" onclick="SCA.clickImport()" href="#">Import</a></li> <li role="presentation"><a id="menu-options" role="menuitem" onclick="SCA.displayOptions(true)" href="#">Options</a></li> <li role="presentation"><a id="menu-about" role="menuitem" onclick="SCA.showAbout()" href="#">Help</a></li> </ul> </form> </div> </nav> <div id="pagecontainer" class="container"> <br> <div id="nojavascript" style="display: inline;"> <div class="jumbotron"> <div class="container"> <h2>Javascript not enabled!</h2> <h3>This application requires Javascript. Please enable it in your browser settings. </h3></div> </div> </div> <div id="unsupported" style="display: none"> <div class="jumbotron"> <div class="container"> <h2>Your browser is unsupported!</h2> <h3>Please upgrade to the latest version of your browser in order to use this application. </h3></div> </div> </div> <div id="locked" style="display: none"> <div class="jumbotron"> <div class="container"> <div class="row"> <div class="col-sm-9 col-md-10"> <div class="pull-left"> <h2>This content is protected.</h2> <h3>Please enter a password to unlock it.</h3> </div> <div class="lock-image visible-sm visible-md visible-lg pull-right"> </div> </div> </div> </div> </div> <form id="decrypt" class="form-horizontal" autocomplete="off" onsubmit="SCA.decrypt(); return false"> <div id="dec-password-group" class="form-group"> <label for="dec-password" class="col-lg-2 control-label">Password</label> <div class="col-lg-4"> <input id="dec-password" name="dec-password" class="form-control" type="password"> <span id="dec-password-help" class="help-block"></span> </div> </div> <div class="form-group"> <label for="hint" class="col-lg-2 control-label">Hint</label> <div class="col-lg-4"> <p id="dec-hint" class="form-control-static">(None provided)</p> </div> </div> <div class="form-group"> <div class="col-lg-offset-2 col-lg-10"> <button id="do-decrypt" type="button" onclick="SCA.decrypt()" class="btn btn-success btn-sm">Decrypt</button> </div> </div> </form> </div> <div id="unlocked" style="display: none;"> <div id="options-screen" class="container alert alert-warning alert-dismissable" style="display: none"> <button type="button" class="close" onclick="SCA.displayOptions(false)">×</button> <h4>Options</h4> <form id="options" class="form-horizontal" autocomplete="off" onsubmit="SCA.saveOptions(); return false"> <div id="opt-save-filename-group" class="form-group"> <label for="opt-save-filename" class="col-md-2 col-lg-2 control-label">Save filename</label> <div class="col-md-4 col-lg-4"> <input id="opt-save-filename" name="file-save-name" class="form-control" onkeyup="SCA.validateSaveFilename()" onkeydown="SCA.validateSaveFilename()"> <p id="opt-save-filename-help" class="help-block"></p> </div> </div> <div id="opt-timeout-group" class="form-group"> <label for="opt-timeout" class="col-md-2 col-lg-2 control-label">Timeout period (min.)</label> <div class="col-md-2 col-lg-2"> <input id="opt-timeout" name="opt-timeout" onkeyup="SCA.validateTimeout()" onkeydown="SCA.validateTimeout()" onkeypress="return SCA.isNumericKey(event)" class="form-control" type="number"> <p id="opt-timeout-help" class="help-block"></p> </div> </div> </form> </div> <div id="help-screen" class="container alert alert-info alert-dismissable" style="display: none;"> <button type="button" class="close" onclick="SCA.displayHelp(false)">×</button> <b>WhisperNote</b> is a portable encrypted message container. <b>WhisperNote</b> is free to use, open source, free from app stores and compatible with most modern devices (computers, tablets, phones).<br><br> <a id="help-toggle" href="#" onclick="SCA.toggleHelpDetail()" class="alert-link">more</a> <div id="help-detail" style="display: none"> <br><b>WhisperNote</b> is different to other message encryption software because everything you require is contained in the HTML file you are reading right now. <br><br>                        <div>                            <b>Security</b>                            <ul>                                <li><b>WhisperNote</b> uses AES 256 bit encryption to store your data, this is a very strong form of encryption.</li>                                <li><b>WhisperNote</b> uses your browser as the execution environment, you probably use your browser for your banking too.</li>                                <li><b>WhisperNote</b> does not store your data on a server, it saves it to the device you are using.</li>                                <li>If you lose your password, it cannot be recovered.</li>                                <li>Providing high quality security tools is very difficult and like other tools <b>WhisperNote</b> has known weaknesses.</li>                                <li>For more information please see the <a href="http://www.consunet.com.au/products/whispernote">website.</a></li>                            </ul>                        </div>                        <div>                            <b>Create your note</b>                            <ul>                                <li>Just type or cut and paste the text content you want to encrypt in the Message area.</li>                                <li>You can optionally select a single file from your device to be included with your note. This file should be less than 10Mb in size.</li>                                <li>Once you're done editing your note, at the bottom of the screen type in a password to protect the note contents.</li>                                <li>Optionally, provide a hint for yourself, but don't make it obvious.</li>                                <li>Hit the Encrypt button. This will encrypt the note and package everything neatly into a single HTML file. You can save it to your local disc or perhaps a cloud service.</li>                            </ul>                        </div>                        <div>                            <b>Share your note</b>                            <ul>                                <li>Due to technical limitations of current browsers, if you send a <b>WhisperNote</b> through email (or other insecure channel) the recipient needs do one of three things to read it securely:                                        <ul>                                            <li>Download a new <b>WhisperNote</b> and Import your note into theirs.</li>                                            <li>Use the Consunet <a href="http://www.consunet.com.au/products/validator">Validator</a> service to check that the note has not been maliciously modified in transit.</li>                                            <li>Temporarily disconnect from the Internet when they are reading the note.</li>                                        </ul>                                </li>                                <li>When sharing the password you should use a different channel to the one you sent your note through (i.e. call the recipient over the phone).</li>                            </ul>                        </div> </div> </div> <div class="container"> <form id="main" role="form" autocomplete="off"> <div class="form-group"> <label for="payload">Message</label> <textarea id="payload" class="form-control" placeholder="Enter your private message here..." rows="15"></textarea> </div> <div class="form-group pull-left"> <label for="file">Attach File</label> <input id="file" name="file" type="file"> </div> <div id="att-download" class="form-group pull-right" style="display: none"> <label id="download-label" for="download"></label> <button id="download" type="button" onclick="SCA.downloadDecrypted()" class="btn btn-primary btn-sm">Download</button> </div> </form> </div> <div class="container"> <nav class="navbar navbar-default navbar-fixed-bottom"> <form id="encrypt" class="navbar-form" role="form" onsubmit="return false"> <div id="enc-password-group" class="form-group"> <label class="sr-only" for="enc-password">Password</label> <input class="form-control input-sm" id="enc-password" name="enc-password" placeholder="Password" onkeydown="SCA.validateEncPass()" onkeyup="SCA.validateEncPass()" type="password"> <label class="sr-only" for="enc-hint">Hint</label> <input class="form-control input-sm" id="enc-hint" name="enc-hint" placeholder="Hint to remember"> </div> <button id="do-encrypt" type="submit" onclick="SCA.encrypt()" class="btn navbar-btn btn-sm btn-success">Encrypt</button> <div id="enc-password-fb-group" class="form-group" style="display: none;"> <label id="enc-password-fb" class="control-label"></label> </div> <div class="navbar-btn pull-right"> <h4 id="timeout-value"></h4> </div> </form> </nav> </div> </div> </div>  </body></html>